Neeche **aap ka full Laravel + TCPDF code** ko **simple wording + step-by-step** define kar raha hoon â€” bilkul is style me jaisa aap sir ko explain kar sakte ho.

Is explanation me **har line aur har step ka clear purpose** samjhayÄ gaya hai.

---

# âœ… **PDFController â€” Full Explanation (Step-by-Step in Easy Words)**

---

# ğŸ”¹ **1. translate() Function â€” Translation System**

```php
private function translate($text, $lang = 'en')
{
    $translations = include(storage_path('app/public/translations.php'));
    return $translations[$text][$lang] ?? $text;
}
```

### âœ” Yeh function kya karta hai?

1. `translations.php` file ko load karta hai
2. Check karta hai:

   * kya given text ki translation available hai?
   * kya specific language (e.g., 'ur') available hai?
3. Agar translation mile â†’ return translation
4. Agar na mile â†’ original text return karta hai

ğŸ‘‰ Is se JSON text automatic Urdu me convert ho jata hai.

---

# ğŸ”¹ **2. JSON File Load Karna (report_data.json)**

```php
$json_path = storage_path('app/public/report_data.json');
$data = json_decode(file_get_contents($json_path), true);
```

### âœ” Yeh kya karta hai?

* JSON file ko read karta hai
* `json_decode()` se PHP array bana deta hai
* Ab pura PDF isi array ke hisaab se generate hota hai

---

# ğŸ”¹ **3. TCPDF Object Create Karna**

```php
$pdf = new TCPDF($data['meta']['orientation'] ?? 'P', 'mm', 'A4', true, 'UTF-8', false);
```

### âœ” Yahan hum PDF ki meta settings JSON se set kar rahe hain:

* Page orientation â†’ `'P'` ya `'L'`
* Encoding â†’ UTF-8
* Page size â†’ A4

---

# ğŸ”¹ **4. PDF Ka Title Set Karna (Translation Ke Sath)**

```php
$pdf->SetTitle($this->translate($data['meta']['title'] ?? 'Report', 'ur'));
```

### âœ” Title Urdu me ho jayega

Example:

"Report Title" â†’ "Ø±Ù¾ÙˆØ±Ù¹ Ú©Ø§ Ø¹Ù†ÙˆØ§Ù†"

---

# ğŸ”¹ **5. First Page Add Karna**

```php
$pdf->AddPage();
```

---

# ğŸ”¹ **6. Font Set Karna**

```php
$pdf->SetFont('freeserif', '', 12);
```

### âœ” 'freeserif' Unicode font hai â€” Urdu ke liye perfect.

---

# ğŸ”¹ **7. RTL Off (Header Left-to-Right Print Hoga)**

```php
$pdf->setRTL(false);
```

---

# ğŸ”¹ **8. HEADER Loop â€” JSON Header Ki Har Line Print Hoti Hai**

```php
foreach ($data['header']['items'] as $item) {
    $pdf->Write(6, $this->translate($item['value'] ?? '', 'ur'));
}
```

### âœ” Is code ka kaam:

* JSON header ke saare text Urdu me print karta hai
* Har line ko new line me set karta hai

---

# ğŸ”¹ **9. HERO SECTION â€” Optional Section**

```php
if (!empty($data['hero_section']['enabled'])) {
    foreach ($data['hero_section']['items'] ?? [] as $item) {
        $pdf->Write(6, $this->translate($item['value'] ?? '', 'ur'));
    }
}
```

### âœ” Hero section:

* Enabled ho to print hota hai
* Report title, date, lot no, reg no etc show karta hai

---

# ğŸ”¹ **10. Some Spacing**

```php
$pdf->Ln(5);
```

---

# ğŸ”¹ **11. RTL On â€” Table Right-to-Left Render HogÄ«**

```php
$pdf->setRTL(true);
$pdf->SetFont('freeserif', 'B', 12);
```

Urdu table ke liye RTL zaroori hota hai.

---

# ğŸ”¹ **12. Table Title Print Karna**

```php
if ($data['body']['table']['title']) {
    $pdf->SetFont('freeserif', 'B', 14);
    $pdf->Write(1, $this->translate($data['body']['table']['title'], 'ur'));
    $pdf->Ln(8);
}
```

---

# ğŸ”¹ **13. TABLE HTML Start**

```php
$table_html = '<table border="1" cellpadding="4"><tr>';
```

---

# ğŸ”¹ **14. Table Headers Add Karna**

```php
foreach ($data['body']['table']['headers'] ?? [] as $header) {
    $table_html .= '<th>' . $this->translate($header['label'] ?? '', 'ur') . '</th>';
}
$table_html .= '</tr>';
```

### âœ” Yeh kya karta hai?

* Har column ka label JSON se leta hai
* Translation apply karta hai
* `<th>` ke andar show karta hai

Example:

* "Employee Name" â†’ "Ù…Ù„Ø§Ø²Ù… Ú©Ø§ Ù†Ø§Ù…"

---

# ğŸ”¹ **15. Table Rows Add Karna**

```php
foreach ($data['body']['table']['rows'] ?? [] as $row) {
    $table_html .= '<tr>';
    foreach ($data['body']['table']['headers'] ?? [] as $header) {
        $key = $header['key'] ?? '';
        $table_html .= '<td>' . $this->translate($row[$key] ?? '', 'ur') . '</td>';
    }
    $table_html .= '</tr>';
}
```

### âœ” Yeh bahut important part hai:

* Har row JSON se aati hai
* Column key ke through exact value pick hoti hai

Example:

Header key: `"name"`
Row value: `"Naida"`

Aise dynamic table banti hai.

---

# ğŸ”¹ **16. Table End Karna**

```php
$table_html .= '</table>';
```

---

# ğŸ”¹ **17. HTML Table PDF Me Render Karna**

```php
$pdf->writeHTML($table_html, true, false, false, false, '');
```

---

# ğŸ”¹ **18. RTL Off**

```php
$pdf->setRTL(false);
```

Footer left-to-right hota hai.

---

# ğŸ”¹ **19. Subfooter (Legal Line)**

```php
foreach ($data['subfooter'] ?? [] as $item) {
    if (($item['type'] ?? '') === 'text') {
        $pdf->Write(6, $this->translate($item['value'] ?? '', 'ur'), '', 0, 'C', true, 0, false, false, 0);
    }
}
```

---

# ğŸ”¹ **20. Footer Items**

```php
foreach ($data['footer']['items'] ?? [] as $item) {
    if (($item['type'] ?? '') === 'text') {
        $pdf->Write(6, $this->translate($item['value'] ?? '', 'ur'), '', 0, 'C', true, 0, false, false, 0);
    }
}
```

---

# ğŸ”¹ **21. Final PDF Download**

```php
$pdf->Output('report.pdf', 'D');
```

---

# â­ **FINAL SUMMARY (Full Working Flow in Easy Words)**

1. JSON file load hoti hai
2. Translation file load hoti hai
3. PDF create hota hai
4. Header Urdu me print hota hai
5. Hero section Urdu me print hota hai
6. RTL ON hota hai â†’ Table Urdu me right-to-left banti hai
7. Table HTML generate hoti hai
8. Table headers + rows JSON se dynamically fill hotay hain
9. Footer/subfooter print hotay hain
10. PDF finally download ho jata hai

---

# âœ” If You Want Next:

* Main **is code ka fully optimized version** likh doon
* **Class-based PDF builder** bana doon
* **Error handling + fallback system** add kar doon
* **Auto-missing translation detector** add kar doon
* **Diagram / Flowchart** generate kar doon

Bol dein, kis format me chahiye â¤ï¸
